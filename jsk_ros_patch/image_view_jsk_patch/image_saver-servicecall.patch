Index: manifest.xml
===================================================================
--- manifest.xml	(Revision 39154)
+++ manifest.xml	(Working Copy)
@@ -20,6 +20,7 @@
   <depend package="roscpp"/>
   <depend package="sensor_msgs"/>
   <depend package="stereo_msgs"/>
+  <depend package="std_srvs"/>
 
   <platform os="ubuntu" version="9.04"/>
   <platform os="ubuntu" version="9.10"/>
Index: src/nodes/image_saver.cpp
===================================================================
--- src/nodes/image_saver.cpp	(Revision 39154)
+++ src/nodes/image_saver.cpp	(Working Copy)
@@ -7,9 +7,17 @@
 #include <camera_calibration_parsers/parse.h>
 #include <boost/format.hpp>
 
+#include <std_srvs/Empty.h>
+
 sensor_msgs::CvBridge g_bridge;
 int g_count = 0;
 boost::format g_format;
+bool save_all_image, save_image_service;
+
+bool service(std_srvs::Empty::Request &req, std_srvs::Empty::Response &res) {
+  save_image_service = true;
+  return true;
+}
 
 void callback(const sensor_msgs::ImageConstPtr& image, const sensor_msgs::CameraInfoConstPtr& info)
 {
@@ -27,12 +35,15 @@
         filename = (g_format % g_count % "jpg").str();
       } catch (...) { }
 
-      cvSaveImage(filename.c_str(), image);
-      ROS_INFO("Saved image %s", filename.c_str());
-      filename = filename.replace(filename.rfind("."), filename.length(),".ini");
-      camera_calibration_parsers::writeCalibration(filename, "camera", *info);
+      if ( save_all_image || save_image_service ) {
+        cvSaveImage(filename.c_str(), image);
+        ROS_INFO("Saved image %s", filename.c_str());
+        filename = filename.replace(filename.rfind("."), filename.length(),".ini");
+        camera_calibration_parsers::writeCalibration(filename, "camera", *info);
       
-      g_count++;
+        g_count++;
+        save_image_service = false;
+      }
     } else {
       ROS_WARN("Couldn't save image, no data!");
     }
@@ -52,7 +63,9 @@
   ros::NodeHandle local_nh("~");
   std::string format_string;
   local_nh.param("filename_format", format_string, std::string("left%04i.%s"));
+  local_nh.param("save_all_image", save_all_image, true);
   g_format.parse(format_string);
+  ros::ServiceServer save = local_nh.advertiseService ("save", service);
 
   ros::spin();
 }
